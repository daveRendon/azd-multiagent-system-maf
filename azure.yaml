name: tdd-azd-multi-agent-ms-foundry
metadata:
  template:  tdd-azd-multi-agent-ms-foundry@1.0.2
services:
  api:
    project: ./src/api
    language: python
    host: containerapp
    docker:
      context: .
      file: ./dockerfile
      registry: ${AZURE_CONTAINER_REGISTRY_ENDPOINT}
infra:
  provider: bicep
  path: ./infra

hooks:
  preprovision:
    - run: python scripts/ensure_resource_group.py
      shell: pwsh
